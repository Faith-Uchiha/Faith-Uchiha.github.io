<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="报错," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2" />






<meta name="description" content="使用BeanUtils包出现下列问题  java.lang.ClassNotFoundException: org.apache.commons.collections.FastHashMap java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory  像这种ClassNotFoundException  的错">
<meta name="keywords" content="报错">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb问题汇总">
<meta property="og:url" content="https://faith-uchiha.github.io/2018/03/24/JavaWeb问题汇总/index.html">
<meta property="og:site_name" content="My DreamLand My Avalon">
<meta property="og:description" content="使用BeanUtils包出现下列问题  java.lang.ClassNotFoundException: org.apache.commons.collections.FastHashMap java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory  像这种ClassNotFoundException  的错">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-05-09T12:50:51.337Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaWeb问题汇总">
<meta name="twitter:description" content="使用BeanUtils包出现下列问题  java.lang.ClassNotFoundException: org.apache.commons.collections.FastHashMap java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory  像这种ClassNotFoundException  的错">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://faith-uchiha.github.io/2018/03/24/JavaWeb问题汇总/"/>





  <title>JavaWeb问题汇总 | My DreamLand My Avalon</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">My DreamLand My Avalon</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://faith-uchiha.github.io/2018/03/24/JavaWeb问题汇总/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Amaterasu.Z">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/26248309?v=4&u=679e58100f290ba420c1903074df87aacaf9f37e&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My DreamLand My Avalon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaWeb问题汇总</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-24T13:00:21+08:00">
                2018-03-24
              </time>
            

            

            
          </span>
          
          <span>
            |
            <span>更新于</span>
            <time>
              2018-05-09
              20:49:21
            </time>
          </span>
          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaWeb/" itemprop="url" rel="index">
                    <span itemprop="name">JavaWeb</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,225 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  10 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <ol>
<li><p>使用BeanUtils包出现下列问题</p>
<ul>
<li>java.lang.<strong>ClassNotFoundException</strong>: org.apache.commons.<strong>collections</strong>.FastHashMap</li>
<li>java.lang.<strong>ClassNotFoundException</strong>: org.apache.commons.<strong>logging</strong>.LogFactory</li>
</ul>
<p>像这种ClassNotFoundException  的错误，一般都是<strong>缺少了</strong>此包所需的<strong>依赖包</strong> </p>
<ul>
<li>java.lang.NoClassDefFoundError: org/apache/commons/collections/FastHashMap</li>
</ul>
<p>这样的问题就属于<strong>版本问题</strong>。 原因就是在commons-collection-4.X以上的包中不存在FastHashMap方法，<strong>解决方案也很简单，替换成commons-collection-3.2版本的包就可以</strong></p>
</li>
<li><p>写后台管理页面的增删改查时，发现删除商品信息一直无法删除。<br> <strong>现象</strong>：直接在浏览器访问AdminDelProductServlet?pid=xxxx  发现可以删除，<br> 在Eclipse自带的网页浏览器，在Debug模式下访问jsp并删除，偶尔删除。<br> 但是直接在本机浏览器，点红色删除按钮，竟然没有任何反应，在Servlet中<strong>为了调试</strong>，也加了<strong>System.out.println(request.getParameter(“pid”))  看看是否能正确输出</strong> 。发现根本就没有输出。<br> <strong>可以判断</strong>：jsp的请求，没有传递到相应的AdminDelProductServlet。随即<strong>去看web.xml是否路径错误</strong>。大眼瞪小眼看了好多遍了，都没错啊。真的纳闷。又想是不是url太长了，超过了HTTP的限制？？最后实在没办法，用WinMerge对比实例文件和自己写的文件的区别。竟然是一个很囧的错误。</p>
<p>竟然把</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;td align=&quot;center&quot; style=&quot;HEIGHT: 22px&quot;&gt;</span><br><span class="line">	&lt;a href=&quot;javascript:void(0);&quot; onclick=&quot;delProduct(&apos;$&#123;product.pid&#125;&apos;)&quot;&gt; &lt;img</span><br><span class="line">		src=&quot;$&#123;pageContext.request.contextPath&#125;/images/i_del.gif&quot;</span><br><span class="line">		width=&quot;16&quot; height=&quot;16&quot; border=&quot;0&quot; style=&quot;CURSOR: hand&quot;&gt;</span><br><span class="line">	&lt;/a&gt;</span><br><span class="line">&lt;/td&gt;</span><br></pre></td></tr></table></figure>
<p>错写成了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;td align=&quot;center&quot; style=&quot;HEIGHT: 22px&quot;&gt;</span><br><span class="line">	&lt;a href=&quot;javascipt:void(0);&quot; onclick=&quot;delProduct(&apos;$&#123;product.pid&#125;&apos;)&quot;&gt; &lt;img</span><br><span class="line">		src=&quot;$&#123;pageContext.request.contextPath&#125;/images/i_del.gif&quot;</span><br><span class="line">		width=&quot;16&quot; height=&quot;16&quot; border=&quot;0&quot; style=&quot;CURSOR: hand&quot;&gt;</span><br><span class="line">	&lt;/a&gt;</span><br><span class="line">&lt;/td&gt;</span><br></pre></td></tr></table></figure>
<p>javascript没写对。真的尴尬啊。我说怎么请求传递不过去。。浪费好多时间。 <a id="more"></a></p>
</li>
<li><p>javax.el.<strong>PropertyNotFoundException</strong>: Property [Beans] not found on type [com.Amaterasu.Z.vo.PageBean]<br> 这类问题肯定是因为JavaBean没写对。JavaBean的成员变量，<strong>一定要小写开头</strong> </p>
</li>
<li><p>named-config with name ‘Amaterasu’ does not exist. Using default-config.<br> java.sql.SQLException:<strong>No suitable driver </strong>  <br> 用的好好的数据库连接池配置和jar包，换了一个新的工程突然间出问题了。实现的功能仅仅是登陆，登陆的时候把username，password发送到服务器，在DAO层进行数据查询。<br> 做了很多种尝试 <br></p>
<ul>
<li>重启服务器 ，重新发布工程—–无果 </li>
<li>彻底删除工程，再新建。—–仍然有问题</li>
</ul>
<p>和以前的工程对比，发现，原来是c3p0的<strong>配置文件没有复制到src文件夹下面</strong></p>
<p>注意：把配置文件放在WEB-INF的lib文件夹还是不够的！！！！！</p>
<p>这种连接池的问题，<strong>观察控制台打印的初始化池子的参数</strong> 是一个很好的查错方法，我发现，控制台输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driverClass -&gt; null,jdbcUrl -&gt; null</span><br></pre></td></tr></table></figure>
<p>即使是default-config ，我也写了数据库连接的URL和数据库驱动。所以得知肯定是<strong>C3P0配置文件路径问题</strong> </p>
</li>
<li><p>Jedis访问Redis出现问题。<br> 出现的第一个问题是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JedisConnectionException: java.net.ConnectException: Connection refused: connect</span><br></pre></td></tr></table></figure>
<p>解决：Redis的配置文件redis.conf里bind 127.0.0.1 注释掉。</p>
<p>注释掉之后，会出现下面的问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.clients.jedis.exceptions.JedisDataException: DENIED Redis is running in protected mode because protected mode is enabled, no bind address was specified, no authentication password is requested to clients. In this mode connections are only accepted from the loopback interface.</span><br></pre></td></tr></table></figure>
<p>大意就是保护模式开启了，只能从本机环回地址访问。错误也提供了下面的解决方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">If you want to connect from external computers to Redis you may adopt one of the following solutions: 1) Just disable protected mode sending the command &apos;CONFIG SET protected-mode no&apos; from the loopback interface by connecting to Redis from the same host the server is running, however MAKE SURE Redis is not publicly accessible from internet if you do so. Use CONFIG REWRITE to make this change permanent. </span><br><span class="line">2) Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to &apos;no&apos;, and then restarting the server.</span><br><span class="line">3) If you started the server manually just for testing, restart it with the &apos;--protected-mode no&apos; option. </span><br><span class="line">4) Setup a bind address or an authentication password. NOTE: You only need to do one of the above things in order for the server to start accepting connections from the outside.</span><br></pre></td></tr></table></figure>
</li>
<li><p>报错：org.apache.jasper.JasperException: javax.el.ELException: Failed to parse the expression [${}]<br> 解决：意思是无法解析\${},所以可以确定是jsp书写除了问题，导致转换成的servlet出错。问题定位了好久才定位到是header.jsp出问题，可是看了好久header.jsp，也没什么错误。<br> <br> 最终才发现罪魁祸首是自己<strong>在注释中写了\${}</strong>。。。 <br> 教训：jsp是要翻译成servlet的。在<strong>servlet中，会调用相应的类解析EL表达式，所以jsp中所有的\${}都会被解析</strong>，即使是在注释中也别轻易写\${}(在&lt;%– –%&gt;中写可能不会出问题，没事过)。</p>
</li>
<li><p>“添加购物车”按钮点击无反应。<br> 错误写法：\<a href="javasripte:void(0);" target="_blank" rel="noopener">\<input type="button" onclick="">\</a> ，这样的想法就是点击a标签，不做任何跳转，通过button的事件跳转到servlet。<br> 这两个标签是嵌套的，\<a>都说不做任何跳转了，就不会执行input的事件。<br> 解决：onclick事件必须写在\<a>里</a></a></p>
</li>
<li><p>做购物车功能时，感觉只能添加一件商品，每次跳转到cart.jsp后，总是只显示最新的商品，之前的商品都不见了。<strong>Debug发现，session.setAtrribute()好像都没执行，session都没写进去</strong>。自己写了一个小的测试程序，发现session功能一切正常，百思不得其解。<br> 最后发现，点击“加入购物车”按钮之后，跳转到了<a href="http://localhost:80**//**MyShop/product?method=productInfo&amp;pid=1&amp;cid=1&amp;currentPage=1" target="_blank" rel="noopener">http://localhost:80**//**MyShop/product?method=productInfo&amp;pid=1&amp;cid=1&amp;currentPage=1</a>  页面。<br> 这个URL很奇怪，估计是这个问题导致的session无法写入<br> 检查发现：原来是我在按钮的onclick事件里，写了<br>location.href =”<strong><a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a></strong>\${pageContext.request.contextPath }/product?method=addCart&amp;count=”+count+”&amp;pid=”+pid<br> <strong>在\${pageContext.request.contextPath} 前面写localhost 完全是多余的</strong></p>
</li>
<li><p>使用response的重定向功能，发现<strong>跳转到myshop/cart.jsp去了</strong> <br> 解决：response.sendRedirect(“/“+request.getContextPath()+”/cart.jsp”)   <strong>“/“</strong>是多余的，request.getContextPath() 输出<strong>前面就包含了”/“</strong> </p>
</li>
<li><p>Tomcat的LifeCycleException   <br> 原因：web.xml出错，比如servlet配置时  \<servlet-mapping>和\<servlet> 中写的name不一致</servlet></servlet-mapping></p>
</li>
<li><p>问题：jsp报错-&gt;Property [oid] not found on type [java.lang.String]<br> 解决：这个问题肯定是遍历集合的时候没有写EL表达式，错写成了字符串 比如应该写\&lt;c:forEach items=”\${orders}” var=”order”&gt; <strong>错写成了\&lt;c:forEach items=”orders” var=”order”&gt; </strong> 这样EL表达式解析的时候<strong>就会去系统类找order</strong>，属性不存在-&gt;出错</p>
</li>
<li><p>中文乱码问题：发现在功能模块servlet中写了request.setCharacterEncoding(“UTF-8”)还是乱码<br> 解决：<strong>要在BaseServlet里写setCharacterEncoding</strong> 才行。也不知道是不是在父类反射调用函数时，request有了什么改变导致乱码</p>
</li>
<li><p>封装Hibernate工具类时报错，java.lang.ExceptionInInitializerError</p>
<p>Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]</p>
<p>Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo <strong>cannot be null when ‘hibernate.dialect’ not set</strong> <br> 原因：new Configuration()后，<strong>没有调用configure()</strong>，导致Hibernate的配置文件没有读取</p>
</li>
<li><p>Spring整合Mybatis时，使用Mapper动态代理的方式开发DAO，数据库连接池异常。报错：</p>
<figure class="highlight plain"><figcaption><span>is abstract```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">调试方法：去掉与Mybatis相关的 代码。测试数据库连接池是否能够连接。</span><br></pre></td></tr></table></figure>
<p>/*//测试数据库连接池是没问题的</p>
<pre><code>DataSource ds = ac.getBean(&quot;dataSource&quot;,DataSource.class);

java.sql.Connection conn = ds.getConnection();

String sql = &quot;select * From user&quot;;
PreparedStatement ps = conn.prepareStatement(sql);
ResultSet rs = ps.executeQuery();
while(rs.next()){
    System.out.println(rs.getString(1));
    System.out.println(rs.getString(2));
    System.out.println(rs.getString(3));
}
if(ps != null){
    ps.close();
}
if(conn != null){
    conn.close();
}*/
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">但是，下列代码就一直报错。不过控制台显示已经查询到了结果。</span><br></pre></td></tr></table></figure>
<p>QueryVo vo = new QueryVo();</p>
<pre><code>User u = new User();
u.setUsername(&quot;王五&quot;);
vo.setUser(u);

List&lt;User&gt; list = userMapper.findUserByQueryVo(vo);
for(User user:list) {
    System.out.println(user);
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    解决：**更换c3p0的版本** 。使用最新的0.9.5.2版本，抛弃Spring提供的0.9.1.2</span><br><span class="line"></span><br><span class="line">15. 在Eclipse进行Maven项目构建时出现问题</span><br><span class="line"></span><br><span class="line">    - maven build..  运行tomcat:run 后提示</span><br></pre></td></tr></table></figure>
<p>  No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  原因：应该选择**jdk安装目录下的jre**目录，而不是jre1.8.144</span><br><span class="line"></span><br><span class="line">  解决：window-&gt;preference  ，搜索jre，选择**installed JRE** 选项卡，就可以更改路径</span><br><span class="line"></span><br><span class="line">- 解决了上述问题后再tomcat:run</span><br></pre></td></tr></table></figure>
<p>  org.apache.jasper.JasperException: Unable to compile class for JSP:<br>  <code>`</code></p>
<p>  原因：默认tomcat:run 默认使用的是tomcat6（看错误页面可找到版本），<strong>不支持jdk1.8的版本</strong>。</p>
<p>  解决：在maven工程<strong>添加高版本的tomcat插件</strong>，然后使用命令 tomcat版本号:run ，比如tomcat7:run </p>
</li>
<li><p>有个大坑！！导入了log4j.properties配置文件之后，启动tomcat服务总是会<strong>报错  \solr.log 无法访问！</strong> </p>
<p>原因：log4j.properties中有写${solr.log} 而这个变量依赖的<strong>solr.log.dir并没定义</strong><br> 解决：需要去catalina.bat里面<strong>添加一条语句setJAVA_OPTS=”-Dsolr.log.dir=C:\f\Solr\solr-7.3.0\server\logs”</strong>      一定要写在 set JPDA 后面 </p>
</li>
</ol>

      
    </div>
    
    
    

    

    <div>
    
      <div>
    
        <div style="text-align:center;color: #ccc;font-size:15px;">
		-------------本文结束-------------
		</div>
    
</div>
    
    </div>

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/报错/" rel="tag"><i class="fa fa-tag"></i> 报错</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/19/在centos6-5上安装jdk8-mysql-tomcat8/" rel="next" title="在centos6.5上安装jdk8_mysql_tomcat8">
                <i class="fa fa-chevron-left"></i> 在centos6.5上安装jdk8_mysql_tomcat8
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/01/在Linux上部署开发好的Web应用/" rel="prev" title="在Linux 上部署开发好的Web应用">
                在Linux 上部署开发好的Web应用 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars0.githubusercontent.com/u/26248309?v=4&u=679e58100f290ba420c1903074df87aacaf9f37e&s=400"
               alt="Amaterasu.Z" />
          <p class="site-author-name" itemprop="name">Amaterasu.Z</p>
           
              <p class="site-description motion-element" itemprop="description">要磨砺自己，要坚持梦想<br>要耐下心，不要轻易烦躁<br>要找准方向，找到正确方法</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Faith-Uchiha" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Amaterasu.Z</span>

  
</div>


  <div class="powered-by">
    由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
  </div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">
    主题 &mdash;
    <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
      NexT.Pisces
    </a>
    <span>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</span>
    <span id="showDays"></span>
  </div>  


<script>
  var birthDay = new Date('08/16/2017');
  var now = new Date();
  var duration = now.getTime() - birthDay.getTime();
  var total= Math.floor(duration / (1000 * 60 * 60 * 24));
  document.getElementById('showDays').innerHTML='本站已运行' + total + '天';
</script>
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  









  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/three/three.min.js"></script>

  
  <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
